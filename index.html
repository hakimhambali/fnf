<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Name Formatter - Format Your Name for Flight Bookings</title>
    <meta name="description" content="Free tool to format your name correctly for Malaysia Airlines, AirAsia, Batik Air, Qatar Airways, Turkish Airlines, ANA, Japan Airlines, Thai Airways, China Airlines, Royal Brunei, SriLankan Airlines, and Firefly flight bookings.">
    <meta name="keywords" content="flight name formatter, Malaysia Airlines name format, AirAsia name format, Batik Air name format, Qatar Airways name format, Turkish Airlines name format, ANA name format, Japan Airlines name format, Thai Airways name format, China Airlines name format, Royal Brunei name format, SriLankan Airlines name format, Firefly name format, booking name guide, passport name format">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://flightnameformatter.com/">
    <meta property="og:title" content="Flight Name Formatter - Format Your Name for Flight Bookings">
    <meta property="og:description" content="Free tool to format your name correctly for 12 airlines including Malaysia Airlines, AirAsia, Qatar Airways, and more. Match your passport name to airline booking fields instantly.">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_MY">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Flight Name Formatter">
    <meta name="twitter:description" content="Format your name correctly for 12 airlines including Malaysia Airlines, AirAsia, Qatar Airways, and more.">
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Flight Name Formatter",
        "description": "Format your name correctly for Malaysia Airlines, AirAsia, Batik Air, Qatar Airways, Turkish Airlines, ANA, Japan Airlines, Thai Airways, China Airlines, Royal Brunei, SriLankan Airlines, and Firefly flight bookings to match your passport.",
        "applicationCategory": "TravelApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "MYR"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            {
                "@type": "Question",
                "name": "How do I fill in my name for Malaysia Airlines booking?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Malaysia Airlines uses 'First & Middle Name' and 'Last Name / Surname' fields. For Malay names with Bin/Binti, place the given name in the first field and Bin/Binti plus the father's name in the surname field. For example, AHMAD FALIQ BIN HAMEDI becomes First & Middle Name: AHMAD FALIQ, Last Name: BIN HAMEDI."
                }
            },
            {
                "@type": "Question",
                "name": "How do I fill in my name for AirAsia booking?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "AirAsia uses 'Given Name' and 'Family Name / Surname' fields. The formatting follows the same logic: given names go in the first field, and the family name or patronymic goes in the surname field. For example, AHMAD FALIQ BIN HAMEDI becomes Given Name: AHMAD FALIQ, Family Name: BIN HAMEDI."
                }
            },
            {
                "@type": "Question",
                "name": "How do I fill in my name for Batik Air booking?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Batik Air uses 'First Name' and 'Last Name' fields. For Malay names, drop Bin/Binti and place only the father's name in Last Name. For example, MOHAMMED FAZIL BIN MOHAMMED FALEEL becomes First Name: MOHAMMED FAZIL, Last Name: MOHAMMED FALEEL. Single-word names like ISKANDAR should be entered in both fields."
                }
            },
            {
                "@type": "Question",
                "name": "How do I fill in my name for Japan Airlines or ANA booking?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "Japan Airlines and ANA use three fields: 'First Name', 'Middle Name', and 'Last Name'. For Malay names with Bin/Binti, enter the first given name as First Name, remaining given names as Middle Name, and Bin/Binti plus the father's name as Last Name."
                }
            },
            {
                "@type": "Question",
                "name": "How do I fill in my name for China Airlines booking?",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "China Airlines uses 'Family Name (Last Name)' and 'Given Name (First Name)'. Important: do not enter spaces or punctuation. Middle names must be combined with the given name without spaces. Single-word names should be entered in both fields."
                }
            }
        ]
    }
    </script>
    <style>
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --color-primary: #1a56db;
            --color-primary-dark: #1344b0;
            --color-bg: #f0f4f8;
            --color-surface: #ffffff;
            --color-text: #1e293b;
            --color-text-secondary: #64748b;
            --color-border: #e2e8f0;
            --color-accent: #059669;
            --color-accent-bg: #ecfdf5;
            --color-warning-bg: #fffbeb;
            --color-warning-border: #f59e0b;
            --color-danger-bg: #fef2f2;
            --color-danger-border: #ef4444;
            --color-danger-text: #991b1b;
            --radius: 12px;
            --shadow: 0 1px 3px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.04);
            --shadow-lg: 0 4px 24px rgba(0,0,0,0.10);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, #1e3a5f 0%, #1a56db 100%);
            color: #fff;
            padding: 2.5rem 1rem 2rem;
            text-align: center;
        }

        header h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1rem;
            opacity: 0.9;
            max-width: 520px;
            margin: 0 auto;
        }

        main {
            max-width: 640px;
            margin: -1.5rem auto 2rem;
            padding: 0 1rem;
        }

        .card {
            background: var(--color-surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            padding: 1.75rem;
            margin-bottom: 1.25rem;
        }

        .step-label {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--color-primary);
            margin-bottom: 0.75rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            background: var(--color-primary);
            color: #fff;
            font-size: 0.7rem;
            font-weight: 700;
        }

        label {
            display: block;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }

        select,
        input[type="text"] {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 1rem;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            background: var(--color-surface);
            color: var(--color-text);
            transition: border-color 0.2s;
            font-family: inherit;
        }

        select:focus,
        input[type="text"]:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(26, 86, 219, 0.15);
        }

        input[type="text"]::placeholder {
            color: var(--color-text-secondary);
        }

        .hint {
            font-size: 0.82rem;
            color: var(--color-text-secondary);
            margin-top: 0.4rem;
        }

        .result-card {
            background: var(--color-surface);
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            padding: 1.75rem;
            margin-bottom: 1.25rem;
            border: 2px solid var(--color-accent);
            display: none;
        }

        .result-card.visible {
            display: block;
        }

        .result-heading {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: 1rem;
        }

        .result-heading svg {
            flex-shrink: 0;
        }

        .result-field {
            background: var(--color-accent-bg);
            border-radius: 8px;
            padding: 0.85rem 1rem;
            margin-bottom: 0.6rem;
        }

        .result-field:last-child {
            margin-bottom: 0;
        }

        .result-field-label {
            font-size: 0.78rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.04em;
            color: var(--color-text-secondary);
            margin-bottom: 0.2rem;
        }

        .result-field-value {
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--color-text);
            letter-spacing: 0.02em;
            word-break: break-word;
        }

        .tip-box {
            background: var(--color-warning-bg);
            border-left: 4px solid var(--color-warning-border);
            border-radius: 0 8px 8px 0;
            padding: 0.85rem 1rem;
            font-size: 0.85rem;
            color: var(--color-text);
            margin-top: 1rem;
            line-height: 1.5;
        }

        .tip-box strong {
            color: #92400e;
        }

        .name-type-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-top: 0.75rem;
        }

        .name-type-btn {
            padding: 0.4rem 0.85rem;
            font-size: 0.82rem;
            font-weight: 600;
            border: 2px solid var(--color-border);
            border-radius: 20px;
            background: var(--color-surface);
            color: var(--color-text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            font-family: inherit;
        }

        .name-type-btn:hover {
            border-color: var(--color-primary);
            color: var(--color-primary);
        }

        .name-type-btn.active {
            background: var(--color-primary);
            border-color: var(--color-primary);
            color: #fff;
        }

        .hidden {
            display: none;
        }

        .disclaimer-box {
            background: var(--color-danger-bg);
            border: 1px solid var(--color-danger-border);
            border-radius: var(--radius);
            padding: 1.25rem 1.5rem;
            margin-bottom: 1.25rem;
        }

        .disclaimer-box h2 {
            font-size: 0.95rem;
            color: var(--color-danger-text);
            margin-bottom: 0.5rem;
        }

        .disclaimer-box p,
        .disclaimer-box li {
            font-size: 0.82rem;
            color: var(--color-danger-text);
            line-height: 1.6;
        }

        .disclaimer-box ul {
            padding-left: 1.25rem;
            margin-top: 0.3rem;
        }

        .disclaimer-box li {
            margin-bottom: 0.2rem;
        }

        section.info-section {
            max-width: 640px;
            margin: 0 auto 2rem;
            padding: 0 1rem;
        }

        section.info-section .card {
            padding: 1.5rem 1.75rem;
        }

        section.info-section h2 {
            font-size: 1.2rem;
            margin-bottom: 0.75rem;
        }

        section.info-section h3 {
            font-size: 1rem;
            margin: 1rem 0 0.4rem;
        }

        section.info-section p,
        section.info-section li {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
            line-height: 1.65;
        }

        section.info-section ul {
            padding-left: 1.25rem;
            margin-top: 0.3rem;
        }

        section.info-section li {
            margin-bottom: 0.25rem;
        }

        section.info-section a {
            color: var(--color-primary);
            text-decoration: none;
        }

        section.info-section a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            padding: 1.5rem 1rem;
            font-size: 0.8rem;
            color: var(--color-text-secondary);
            border-top: 1px solid var(--color-border);
            max-width: 640px;
            margin: 0 auto;
        }

        @media (max-width: 480px) {
            header {
                padding: 2rem 1rem 1.5rem;
            }
            header h1 {
                font-size: 1.35rem;
            }
            .card {
                padding: 1.25rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Flight Name Formatter</h1>
        <p>Format your name correctly for airline bookings to match your passport and avoid check-in issues.</p>
    </header>

    <main>
        <div class="card">
            <div class="step-label"><span class="step-number">1</span> Select Airline</div>
            <label for="airline">Airline</label>
            <select id="airline">
                <option value="" disabled selected>Choose an airline</option>
                <option value="mas">Malaysia Airlines (MAS)</option>
                <option value="airasia">AirAsia</option>
                <option value="batikair">Batik Air</option>
                <option value="firefly">Firefly</option>
                <option value="qatar">Qatar Airways</option>
                <option value="turkish">Turkish Airlines</option>
                <option value="thai">Thai Airways</option>
                <option value="ana">ANA (All Nippon Airways)</option>
                <option value="jal">Japan Airlines (JAL)</option>
                <option value="china_airlines">China Airlines</option>
                <option value="royal_brunei">Royal Brunei Airlines</option>
                <option value="srilankan">SriLankan Airlines</option>
            </select>
        </div>

        <div class="card" id="name-section">
            <div class="step-label"><span class="step-number">2</span> Enter Your Name</div>
            <label for="fullname">Full Name (as shown on passport)</label>
            <input type="text" id="fullname" placeholder="e.g. AHMAD FALIQ BIN HAMEDI" autocomplete="name" autocapitalize="characters">
            <p class="hint">Enter your name exactly as it appears on your passport, in UPPERCASE.</p>

            <div id="name-type-group" class="hidden">
                <label style="margin-top: 1rem;">Name type</label>
                <div class="name-type-selector">
                    <button type="button" class="name-type-btn active" data-type="auto">Auto-detect</button>
                    <button type="button" class="name-type-btn" data-type="malay">Malay</button>
                    <button type="button" class="name-type-btn" data-type="chinese">Chinese</button>
                    <button type="button" class="name-type-btn" data-type="indian">Indian</button>
                    <button type="button" class="name-type-btn" data-type="other">Other</button>
                </div>
                <p class="hint">Auto-detect works for most names. Select manually if the result looks wrong.</p>
            </div>
        </div>

        <div class="result-card" id="result">
            <div class="result-heading">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none"><circle cx="10" cy="10" r="10" fill="#059669"/><path d="M6 10.5L8.5 13L14 7.5" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <span id="result-airline-label">Formatted for Malaysia Airlines</span>
            </div>
            <div id="result-fields"></div>
            <div class="tip-box">
                <strong>Tip:</strong> Double-check that this matches the Machine Readable Zone (MRZ) at the bottom of your passport. Remove any symbols like <strong>@</strong>, <strong>-</strong>, or <strong>A/P</strong>/<strong>A/L</strong> unless they appear in the name section of your passport.
            </div>
        </div>
    </main>

    <section class="info-section">
        <div class="disclaimer-box">
            <h2>Terms &amp; Conditions / Disclaimer</h2>
            <p>This tool is provided for <strong>informational and guidance purposes only</strong>. By using this tool, you acknowledge and agree that:</p>
            <ul>
                <li>We are <strong>not responsible</strong> for any incorrect name formatting, denied boarding, additional fees, or any other consequences resulting from the use of this tool.</li>
                <li>Airline name formatting rules may change at any time without notice. This tool may not reflect the most current requirements.</li>
                <li>You <strong>must always double-check</strong> the formatted name against your passport and verify directly with the airline before completing your booking.</li>
                <li>This tool is <strong>not affiliated with, endorsed by, or associated with</strong> any airline mentioned on this page.</li>
                <li>You use this tool entirely <strong>at your own risk</strong>. Always refer to the official airline website or contact their customer service for the most accurate and up-to-date name formatting guidance.</li>
            </ul>
        </div>

        <div class="card">
            <h2>How to Format Your Name for Flight Bookings</h2>
            <p>Airlines require your name to match your passport exactly. Incorrect names may result in denied boarding or additional fees for name corrections. This tool helps you split your full name into the correct fields used by each airline.</p>

            <h3>Malaysia Airlines (MAS)</h3>
            <p>Uses two fields: <strong>First &amp; Middle Name</strong> and <strong>Last Name / Surname</strong>.</p>
            <ul>
                <li><strong>Malay names:</strong> Given name in first field, Bin/Binti plus patronymic in surname. Example: AHMAD FALIQ BIN HAMEDI &rarr; First &amp; Middle Name: AHMAD FALIQ, Last Name: BIN HAMEDI.</li>
                <li><strong>Chinese names:</strong> Family name in surname, remaining names in first field. Example: TAN MEE LING &rarr; First &amp; Middle Name: MEE LING, Last Name: TAN.</li>
                <li><strong>Indian names:</strong> Given name in first field, family/patronymic name in surname.</li>
            </ul>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.malaysiaairlines.com/my/en/askmh/booking-guide.html" target="_blank" rel="noopener">Malaysia Airlines Booking Guide</a></p>

            <h3>AirAsia</h3>
            <p>Uses two fields: <strong>Given Name</strong> and <strong>Family Name / Surname</strong>. Same formatting logic as Malaysia Airlines.</p>
            <ul>
                <li>Remove the <strong>@</strong> symbol and replace with a space. Omit <strong>A/P</strong> or <strong>A/L</strong> unless they appear in the name section of your passport. Replace hyphens with a space.</li>
            </ul>
            <p style="margin-top:0.5rem;">Reference: <a href="https://support.airasia.com/s/article/How-should-I-fill-up-the-guest-and-contact-details-when-booking-a-flight?language=en_GB" target="_blank" rel="noopener">AirAsia Guest Details Guide</a></p>

            <h3>Batik Air</h3>
            <p>Uses two fields: <strong>First Name</strong> and <strong>Last Name</strong>. Unlike other airlines, Bin/Binti is <strong>dropped</strong> from the name.</p>
            <ul>
                <li><strong>Malay names:</strong> Drop Bin/Binti, place only father's name in Last Name. Example: MOHAMMED FAZIL BIN MOHAMMED FALEEL &rarr; First Name: MOHAMMED FAZIL, Last Name: MOHAMMED FALEEL.</li>
                <li><strong>Single-word names:</strong> Enter the same name in both fields. Example: ISKANDAR &rarr; First Name: ISKANDAR, Last Name: ISKANDAR.</li>
            </ul>

            <h3>Firefly</h3>
            <p>Uses two fields: <strong>First &amp; Middle Name</strong> and <strong>Last Name / Surname</strong>. Same formatting logic as Malaysia Airlines.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.fireflyz.com.my/my/en/booking-guide.html" target="_blank" rel="noopener">Firefly Booking Guide</a></p>

            <h3>Qatar Airways</h3>
            <p>Uses two fields: <strong>First Name</strong> and <strong>Last Name</strong>. Enter your name exactly as it appears on your passport. First and last names should not exceed 50 characters combined.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.qatarairways.com/tradeportal/en/bookingnticketing/Name-Correction.html" target="_blank" rel="noopener">Qatar Airways Name Guide</a></p>

            <h3>Turkish Airlines</h3>
            <p>Uses two fields: <strong>First / Middle Name</strong> and <strong>Last Name</strong>. If you have no first name, enter "FNU" in the first name field. First and last names combined must not exceed 46 characters.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.turkishairlines.com/en-eg/tips-for-adding-passenger-names/" target="_blank" rel="noopener">Turkish Airlines Name Tips</a></p>

            <h3>Thai Airways</h3>
            <p>Uses two fields: <strong>First Name</strong> and <strong>Last Name</strong>. Combined characters must not exceed 48. For single-name passengers, use the "I have a single name" option if available.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.thaiairways.com/en-th/content/name-filling-instructions-onlinebookingonly/" target="_blank" rel="noopener">Thai Airways Name Instructions</a></p>

            <h3>ANA (All Nippon Airways)</h3>
            <p>Uses three fields: <strong>First Name</strong>, <strong>Middle Name</strong>, and <strong>Last Name</strong>. First + middle names combined must be 25 characters or fewer. First + last names combined must be 48 characters or fewer. Remove accents when entering names.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.ana.co.jp/en/th/plan-book/terms/typing/" target="_blank" rel="noopener">ANA Name Entry Guide</a></p>

            <h3>Japan Airlines (JAL)</h3>
            <p>Uses three fields: <strong>Last Name (Surname)</strong>, <strong>First Name</strong>, and <strong>Middle Name</strong>. Enter names exactly as shown on your passport. Names cannot be changed once booking is complete.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.jal.co.jp/jp/en/guidance/inter/passengername/" target="_blank" rel="noopener">JAL Passenger Name Guide</a></p>

            <h3>China Airlines</h3>
            <p>Uses two fields: <strong>Family Name (Last Name)</strong> and <strong>Given Name (First Name)</strong>. <strong>Do not enter spaces or punctuation</strong> &mdash; middle names must be combined with the given name without spaces. Single-word names should be entered in both fields. Max 50 characters total.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.china-airlines.com/us/en/booking/book-flights/traveler-name" target="_blank" rel="noopener">China Airlines Traveler Name Guide</a></p>

            <h3>Royal Brunei Airlines</h3>
            <p>Uses two fields: <strong>Last / Family Name</strong> and <strong>First and Middle Name / Given Name(s)</strong>. For Brunei names with Pg/Dk titles, include them as part of the name. If no first name exists, use the passenger's title as the given name.</p>
            <ul>
                <li>Example: NAIRA ELAILAH BINTI ERHAN NOUSHAD &rarr; Given Name(s): NAIRA ELAILAH, Last Name: BINTI ERHAN NOUSHAD.</li>
                <li>Example: MICHAEL FANG FA RONG &rarr; Given Name(s): FA RONG MICHAEL, Last Name: FANG.</li>
            </ul>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.flyroyalbrunei.com/malaysia/en/help-support/frequently-asked-questions/booking-with-royal-brunei-airlines/" target="_blank" rel="noopener">Royal Brunei Airlines FAQ</a></p>

            <h3>SriLankan Airlines</h3>
            <p>Uses two fields: <strong>First Name</strong> and <strong>Last Name</strong>. Enter your name as it appears on your passport.</p>
            <p style="margin-top:0.5rem;">Reference: <a href="https://www.srilankan.com/en_uk/plan-and-book/passenger-name-tips" target="_blank" rel="noopener">SriLankan Airlines Name Tips</a></p>
        </div>
    </section>

    <footer>
        <p>This tool is for guidance only. Always verify against your passport and the airline's official website. Not affiliated with any airline.</p>
    </footer>

    <script>
        const AIRLINES = {
            mas: {
                label: "Malaysia Airlines",
                fields: [
                    { key: "first", label: "First & Middle Name" },
                    { key: "last", label: "Last Name / Surname" }
                ]
            },
            airasia: {
                label: "AirAsia",
                fields: [
                    { key: "first", label: "Given Name" },
                    { key: "last", label: "Family Name / Surname" }
                ]
            },
            batikair: {
                label: "Batik Air",
                dropMarker: true,
                duplicateSingle: true,
                fields: [
                    { key: "first", label: "First Name" },
                    { key: "last", label: "Last Name" }
                ]
            },
            firefly: {
                label: "Firefly",
                fields: [
                    { key: "first", label: "First & Middle Name" },
                    { key: "last", label: "Last Name / Surname" }
                ]
            },
            qatar: {
                label: "Qatar Airways",
                fields: [
                    { key: "first", label: "First Name" },
                    { key: "last", label: "Last Name" }
                ]
            },
            turkish: {
                label: "Turkish Airlines",
                fields: [
                    { key: "first", label: "First / Middle Name" },
                    { key: "last", label: "Last Name" }
                ]
            },
            thai: {
                label: "Thai Airways",
                fields: [
                    { key: "first", label: "First Name" },
                    { key: "last", label: "Last Name" }
                ]
            },
            ana: {
                label: "ANA (All Nippon Airways)",
                threeFields: true,
                fields: [
                    { key: "first", label: "First Name" },
                    { key: "middle", label: "Middle Name" },
                    { key: "last", label: "Last Name" }
                ]
            },
            jal: {
                label: "Japan Airlines (JAL)",
                threeFields: true,
                fields: [
                    { key: "last", label: "Last Name (Surname)" },
                    { key: "first", label: "First Name" },
                    { key: "middle", label: "Middle Name" }
                ]
            },
            china_airlines: {
                label: "China Airlines",
                noSpaces: true,
                duplicateSingle: true,
                fields: [
                    { key: "last", label: "Family Name (Last Name)" },
                    { key: "first", label: "Given Name (First Name)" }
                ]
            },
            royal_brunei: {
                label: "Royal Brunei Airlines",
                fields: [
                    { key: "last", label: "Last / Family Name" },
                    { key: "first", label: "First and Middle Name / Given Name(s)" }
                ]
            },
            srilankan: {
                label: "SriLankan Airlines",
                fields: [
                    { key: "first", label: "First Name" },
                    { key: "last", label: "Last Name" }
                ]
            }
        };

        const MALAY_MARKERS = ["BIN", "BINTI", "BINTE", "ANAK", "A/L", "A/P"];

        const airlineEl = document.getElementById("airline");
        const fullnameEl = document.getElementById("fullname");
        const nameTypeGroup = document.getElementById("name-type-group");
        const resultCard = document.getElementById("result");
        const resultFields = document.getElementById("result-fields");
        const resultLabel = document.getElementById("result-airline-label");
        const nameTypeBtns = document.querySelectorAll(".name-type-btn");

        let selectedType = "auto";

        nameTypeBtns.forEach(btn => {
            btn.addEventListener("click", () => {
                nameTypeBtns.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                selectedType = btn.dataset.type;
                update();
            });
        });

        airlineEl.addEventListener("change", update);
        fullnameEl.addEventListener("input", () => {
            fullnameEl.value = fullnameEl.value.toUpperCase();
            update();
        });

        function cleanName(raw) {
            return raw
                .replace(/[@]/g, " ")
                .replace(/[-]/g, " ")
                .replace(/[^A-Z\s\/]/g, "")
                .replace(/\s+/g, " ")
                .trim();
        }

        function detectType(parts) {
            for (let i = 0; i < parts.length; i++) {
                const combined = parts.slice(i).join(" ");
                for (const marker of MALAY_MARKERS) {
                    if (combined === marker || combined.startsWith(marker + " ")) {
                        return "malay";
                    }
                }
            }
            return "other";
        }

        function splitName(name, type, airlineOpts) {
            const parts = name.split(" ").filter(Boolean);
            if (parts.length === 0) return null;

            const dropMarker = airlineOpts && airlineOpts.dropMarker;
            const duplicateSingle = airlineOpts && airlineOpts.duplicateSingle;
            const threeFields = airlineOpts && airlineOpts.threeFields;
            const noSpaces = airlineOpts && airlineOpts.noSpaces;

            if (parts.length === 1) {
                const val = parts[0];
                if (duplicateSingle) {
                    return { first: val, middle: "", last: val };
                }
                return { first: val, middle: "", last: "" };
            }

            const effectiveType = type === "auto" ? detectType(parts) : type;

            let firstName = "", middleName = "", lastName = "";

            if (effectiveType === "malay") {
                let markerIdx = -1, markerLen = 0;
                for (let i = 0; i < parts.length; i++) {
                    const rest = parts.slice(i).join(" ");
                    for (const marker of MALAY_MARKERS) {
                        if (rest === marker || rest.startsWith(marker + " ")) {
                            markerIdx = i;
                            markerLen = marker.split(" ").length;
                            break;
                        }
                    }
                    if (markerIdx >= 0) break;
                }

                if (markerIdx >= 0) {
                    const givenParts = parts.slice(0, markerIdx);
                    if (dropMarker) {
                        lastName = parts.slice(markerIdx + markerLen).join(" ");
                    } else {
                        lastName = parts.slice(markerIdx).join(" ")
                            .replace(/^A\/L\b/, "").replace(/^A\/P\b/, "").trim();
                    }
                    if (givenParts.length === 0) {
                        firstName = lastName;
                        lastName = "";
                    } else if (threeFields && givenParts.length > 1) {
                        firstName = givenParts[0];
                        middleName = givenParts.slice(1).join(" ");
                    } else {
                        firstName = givenParts.join(" ");
                    }
                } else {
                    if (threeFields && parts.length > 2) {
                        firstName = parts[0];
                        middleName = parts.slice(1, -1).join(" ");
                        lastName = parts[parts.length - 1];
                    } else {
                        firstName = parts.slice(0, -1).join(" ");
                        lastName = parts[parts.length - 1];
                    }
                }
            } else if (effectiveType === "chinese") {
                lastName = parts[0];
                const givenParts = parts.slice(1);
                if (threeFields && givenParts.length > 1) {
                    firstName = givenParts[0];
                    middleName = givenParts.slice(1).join(" ");
                } else {
                    firstName = givenParts.join(" ");
                }
            } else if (effectiveType === "indian") {
                lastName = parts[parts.length - 1];
                const givenParts = parts.slice(0, -1);
                if (threeFields && givenParts.length > 1) {
                    firstName = givenParts[0];
                    middleName = givenParts.slice(1).join(" ");
                } else {
                    firstName = givenParts.join(" ");
                }
            } else {
                lastName = parts[parts.length - 1];
                const givenParts = parts.slice(0, -1);
                if (threeFields && givenParts.length > 1) {
                    firstName = givenParts[0];
                    middleName = givenParts.slice(1).join(" ");
                } else {
                    firstName = givenParts.join(" ");
                }
            }

            if (noSpaces) {
                firstName = firstName.replace(/\s+/g, "");
                middleName = middleName.replace(/\s+/g, "");
                lastName = lastName.replace(/\s+/g, "");
            }

            return { first: firstName, middle: middleName, last: lastName };
        }

        function update() {
            const airlineKey = airlineEl.value;
            const raw = fullnameEl.value;
            const name = cleanName(raw);

            if (!airlineKey || !name) {
                resultCard.classList.remove("visible");
                nameTypeGroup.classList.toggle("hidden", !name);
                return;
            }

            nameTypeGroup.classList.remove("hidden");

            const airline = AIRLINES[airlineKey];
            const result = splitName(name, selectedType, airline);

            if (!result) {
                resultCard.classList.remove("visible");
                return;
            }

            resultLabel.textContent = "Formatted for " + airline.label;

            resultFields.innerHTML = airline.fields.map(field => {
                const value = result[field.key] || "(leave empty)";
                return `<div class="result-field">
                    <div class="result-field-label">${field.label}</div>
                    <div class="result-field-value">${value}</div>
                </div>`;
            }).join("");

            resultCard.classList.add("visible");
        }
    </script>
</body>
</html>
